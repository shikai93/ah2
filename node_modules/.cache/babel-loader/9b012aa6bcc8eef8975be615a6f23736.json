{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shikai.ng\\\\Desktop\\\\ah2\\\\src\\\\Components\\\\PDFExportForm\\\\DailyBunkerRecord\\\\DailyBunkerRecord.js\";\nimport React from 'react';\nimport { Container, Row, Col, Button, Form } from 'react-bootstrap';\nimport PDFExporter from '../../../Helpers/PDFExporter/PDFExporter.js';\nimport { withRouter } from \"react-router-dom\";\nimport SpeechRecognition from \"react-speech-recognition\";\nimport SignatureCanvas from 'react-signature-canvas';\nimport '../style.css';\n\nclass DailyBunkerRecord extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.exporter = new PDFExporter();\n    this.sigCanvas = undefined;\n    this.recordIdHandling = undefined;\n    this.fieldHandling = undefined;\n\n    this.addRecord = () => {\n      let oldState = this.state;\n      var initDate = new Date();\n      oldState.records.push({\n        date: initDate,\n        consumed: 0,\n        ROB: ''\n      });\n      this.setState(oldState);\n    };\n\n    this.removeRecord = event => {\n      let id = event.target.dataset.id;\n      let oldState = this.state;\n      oldState.records.splice(id, 1);\n      this.setState(oldState);\n    };\n\n    this.JSDateToHTMLDateString = JSDate => {\n      if (JSDate === undefined || !JSDate.getFullYear) {\n        return \"\";\n      }\n\n      var datestring = JSDate.getFullYear() + '-' + (\"0\" + (JSDate.getMonth() + 1)).slice(-2) + '-' + (\"0\" + JSDate.getDate()).slice(-2);\n      return datestring;\n    };\n\n    this.addDailyBunker = () => {\n      if (this.sigCanvas === undefined || this.sigCanvas.isEmpty()) {\n        alert(\"Please sign off\");\n      }\n\n      console.log(this.sigCanvas.getTrimmedCanvas().toDataURL('image/png'));\n      this.exporter.CreateDailyBunkerPDF(this.state, success => {\n        if (success) {\n          this.backToDailyBunkerDash();\n        }\n      });\n    };\n\n    this.backToDailyBunkerDash = () => {\n      this.props.history.push('/dailybunker/report');\n    };\n\n    this.getVessels = () => {\n      this.exporter.get(\"/vessels\", {}, (vessels, error) => {\n        if (error == null) {\n          let oldState = this.state;\n          oldState.vesselNames = vessels.value;\n          this.setState(oldState);\n        }\n      });\n    };\n\n    this.renderVessels = () => {\n      var vesselNames = [];\n\n      for (var i = 0; i < this.state.vesselNames.length; i++) {\n        var name = this.state.vesselNames[i].name;\n        vesselNames.push(React.createElement(\"option\", {\n          key: i,\n          value: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, name));\n      }\n\n      return vesselNames;\n    };\n\n    this.renderRecords = () => {\n      var recordElms = [];\n\n      for (var i = 0; i < this.state.records.length; i++) {\n        var record = this.state.records[i];\n        console.log(record.ROB);\n        recordElms.push(React.createElement(Form.Row, {\n          key: i,\n          style: {\n            marginTop: '20px',\n            marginBottom: '20px',\n            fontSize: '.8rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm extra-pad-on-xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, \"Date\")), React.createElement(Col, {\n          xs: 8,\n          sm: 5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"date\",\n          min: \"1990\",\n          \"data-id\": i,\n          \"data-datafield\": \"date\",\n          className: \"recordInput\",\n          onChange: this.handleRecordChange.bind(this),\n          value: this.JSDateToHTMLDateString(record.date),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm extra-pad-on-xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Consumed\")), React.createElement(Col, {\n          xs: 8,\n          sm: 2,\n          className: \"verticalCenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"number\",\n          className: \"recordInput\",\n          \"data-id\": i,\n          \"data-datafield\": \"consumed\",\n          onBlur: this.handleRecordBlur.bind(this),\n          onFocus: this.handleRecordFocus.bind(this),\n          onChange: this.decoratorHandleDataChange.bind(this),\n          value: record.consumed,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm extra-pad-on-xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, \"ROB\")), React.createElement(Col, {\n          xs: 8,\n          sm: 4,\n          className: \"verticalCenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"text\",\n          className: \"recordInput\",\n          \"data-id\": i,\n          \"data-datafield\": \"ROB\",\n          onBlur: this.handleRecordBlur.bind(this),\n          onFocus: this.handleRecordFocus.bind(this),\n          onChange: this.decoratorHandleDataChange.bind(this),\n          value: record.ROB,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: {\n            span: 1,\n            offset: 11\n          },\n          sm: {\n            span: 1,\n            offset: 0\n          },\n          style: {\n            textAlign: 'center',\n            marginTop: 'auto',\n            marginBottom: 'auto'\n          },\n          className: \"exta-top-margin-on-small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, React.createElement(Button, {\n          \"data-id\": i,\n          variant: \"danger\",\n          style: {\n            padding: '0 .4rem'\n          },\n          onClick: this.removeRecord,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, \"x\"))));\n      }\n\n      return recordElms;\n    };\n\n    var _initDate = new Date();\n\n    this.state = {\n      vessel: \"ASIAN HERCULES II\",\n      reportDate: _initDate,\n      lastBunkerDate: _initDate,\n      lastBunkerQuantity: 0,\n      chiefEngineerName: \"Ng Shi Kai\",\n      bunkerROB: \"AND1238SD1\",\n      isMGO: true,\n      isLO: false,\n      isFW: false,\n      records: [],\n      vesselNames: []\n    };\n  }\n\n  componentDidMount() {\n    this.getVessels();\n  } // MARK : Enable Speech to Text Entry of Input\n\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let id = this.recordIdHandling;\n    let field = this.fieldHandling;\n\n    if (nextProps.transcript === \"\" || nextProps.transcript === this.props.transcript) {\n      return;\n    }\n\n    if (id === undefined) {\n      this.handleDataChange(undefined, field, nextProps.transcript);\n    } else {\n      this.handleRecordChange(undefined, field, id, nextProps.transcript);\n    }\n  }\n\n  handleRecordFocus(event) {\n    this.fieldHandling = event.target.dataset.datafield;\n    this.recordIdHandling = event.target.dataset.id;\n    this.props.startListening();\n  }\n\n  handleRecordBlur(event) {\n    this.props.stopListening();\n  }\n\n  decoratorHandleDataChange(event) {\n    let field = event.target.dataset.datafield;\n    let id = event.target.dataset.id;\n    let val = event.target.value;\n\n    if (id === undefined) {\n      this.handleDataChange(undefined, field, val);\n    } else {\n      this.handleRecordChange(undefined, field, id, val);\n    }\n  }\n\n  handleDataChange(event, dataFieldAffected = null, val = null) {\n    if (event !== undefined) {\n      dataFieldAffected = event.target.dataset.datafield;\n      val = event.target.value;\n    }\n\n    let oldState = this.state;\n\n    switch (dataFieldAffected) {\n      case \"vessel\":\n        oldState.vessel = val;\n        break;\n\n      case \"reportDate\":\n        oldState.reportDate = val;\n        break;\n\n      case \"lastBunkerDate\":\n        oldState.lastBunkerDate = val;\n        break;\n\n      case \"lastBunkerQuantity\":\n        oldState.lastBunkerQuantity = val;\n        break;\n\n      case \"chiefEngineerName\":\n        oldState.chiefEngineerName = val;\n        break;\n\n      case \"bunkerROB\":\n        oldState.bunkerROB = val;\n        break;\n\n      case \"bunkerType\":\n        switch (val) {\n          case \"0\":\n            oldState.isMGO = true;\n            oldState.isLO = false;\n            oldState.isFW = false;\n            break;\n\n          case \"1\":\n            oldState.isMGO = false;\n            oldState.isLO = true;\n            oldState.isFW = false;\n            break;\n\n          case \"2\":\n            oldState.isMGO = false;\n            oldState.isLO = false;\n            oldState.isFW = true;\n            break;\n\n          default:\n            break;\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState(oldState);\n  }\n\n  handleRecordChange(event, dataFieldAffected = null, id = null, val = null) {\n    if (event !== undefined) {\n      dataFieldAffected = event.target.dataset.datafield;\n      id = event.target.dataset.id;\n      val = event.target.value;\n    }\n\n    let oldState = this.state;\n\n    switch (dataFieldAffected) {\n      case \"date\":\n        oldState.records[id].date = new Date(val);\n        break;\n\n      case \"consumed\":\n        oldState.records[id].consumed = val;\n        break;\n\n      case \"ROB\":\n        oldState.records[id].ROB = val;\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState(oldState);\n  }\n\n  render() {\n    var bunkerType = 0;\n\n    if (this.state.isMGO) {\n      bunkerType = 0;\n    } else if (this.state.isLO) {\n      bunkerType = 1;\n    } else if (this.state.isFW) {\n      bunkerType = 2;\n    }\n\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(Col, {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"formHeader1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Daily Bunker, Lubricants & Fresh Water Status Records\"))), React.createElement(Row, {\n      className: \"formContents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 12,\n      sm: {\n        span: 10,\n        offset: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formVessel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Vessel : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: this.state.vessel,\n      \"data-datafield\": \"vessel\",\n      onChange: this.handleDataChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, this.renderVessels())))), React.createElement(Form.Group, {\n      controlId: \"formCEName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Chief Engineer Name : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"text\",\n      value: this.state.chiefEngineerName,\n      \"data-datafield\": \"chiefEngineerName\",\n      onBlur: this.handleRecordBlur.bind(this),\n      onFocus: this.handleRecordFocus.bind(this),\n      onChange: this.decoratorHandleDataChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formReportedDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"Report Date : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"date\",\n      min: \"1990\",\n      \"data-datafield\": \"reportDate\",\n      onChange: this.handleDataChange.bind(this),\n      defaultValue: this.JSDateToHTMLDateString(this.state.reportDate),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formLastBunkerDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, \"Last Bunker Date : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"date\",\n      min: \"1990\",\n      \"data-datafield\": \"lastBunkerDate\",\n      onChange: this.handleDataChange.bind(this),\n      defaultValue: this.JSDateToHTMLDateString(this.state.lastBunkerDate),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formLastBunkerQty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"Last Bunker Quantity : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"number\",\n      \"data-datafield\": \"lastBunkerQuantity\",\n      onBlur: this.handleRecordBlur.bind(this),\n      onFocus: this.handleRecordFocus.bind(this),\n      onChange: this.decoratorHandleDataChange.bind(this),\n      value: this.state.lastBunkerQuantity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formBunkerRob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, \"Bunker ROB : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"text\",\n      \"data-datafield\": \"bunkerROB\",\n      onBlur: this.handleRecordBlur.bind(this),\n      onFocus: this.handleRecordFocus.bind(this),\n      onChange: this.decoratorHandleDataChange.bind(this),\n      value: this.state.bunkerROB,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formBunkerType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \"Bunker Type : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: bunkerType,\n      \"data-datafield\": \"bunkerType\",\n      onChange: this.handleDataChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, \"MGO\"), React.createElement(\"option\", {\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, \"Lube Oil\"), React.createElement(\"option\", {\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, \"Fresh Water\")))))))), React.createElement(Row, {\n      style: {\n        marginLeft: '-15px',\n        marginRight: '-15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formRecords\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '40px',\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(Col, {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, \"Records \"))), React.createElement(Form.Row, {\n      style: {\n        textAlign: \"center\",\n        fontSize: '.8rem',\n        fontWeight: 600\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 5,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, \"Date\"), React.createElement(Col, {\n      xs: 2,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, \"Consumed\"), React.createElement(Col, {\n      xs: 4,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"ROB\"), React.createElement(Col, {\n      xs: {\n        span: 1,\n        offset: 11\n      },\n      sm: {\n        span: 1,\n        offset: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, \" \", React.createElement(Button, {\n      variant: \"info\",\n      onClick: this.addRecord,\n      style: {\n        padding: '0 .4rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, \"+\"))), this.renderRecords()))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 12,\n      sm: {\n        span: 11\n      },\n      style: {\n        textAlign: \"right\",\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, React.createElement(SignatureCanvas, {\n      canvasProps: {\n        width: 300,\n        height: 200,\n        className: 'sigCanvas'\n      },\n      ref: ref => {\n        this.sigCanvas = ref;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }), \",\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 12,\n      sm: {\n        span: 11\n      },\n      style: {\n        textAlign: \"right\",\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.backToDailyBunkerDash,\n      style: {\n        marginRight: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, \"Back\"), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.addDailyBunker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, \"Save\"))), React.createElement(Row, {\n      style: {\n        paddingBottom: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst options = {\n  autoStart: false,\n  continuous: false\n};\nexport default SpeechRecognition(options)(withRouter(DailyBunkerRecord));","map":{"version":3,"sources":["C:/Users/shikai.ng/Desktop/ah2/src/Components/PDFExportForm/DailyBunkerRecord/DailyBunkerRecord.js"],"names":["React","Container","Row","Col","Button","Form","PDFExporter","withRouter","SpeechRecognition","SignatureCanvas","DailyBunkerRecord","Component","constructor","props","context","exporter","sigCanvas","undefined","recordIdHandling","fieldHandling","addRecord","oldState","state","initDate","Date","records","push","date","consumed","ROB","setState","removeRecord","event","id","target","dataset","splice","JSDateToHTMLDateString","JSDate","getFullYear","datestring","getMonth","slice","getDate","addDailyBunker","isEmpty","alert","console","log","getTrimmedCanvas","toDataURL","CreateDailyBunkerPDF","success","backToDailyBunkerDash","history","getVessels","get","vessels","error","vesselNames","value","renderVessels","i","length","name","renderRecords","recordElms","record","marginTop","marginBottom","fontSize","handleRecordChange","bind","handleRecordBlur","handleRecordFocus","decoratorHandleDataChange","span","offset","textAlign","padding","vessel","reportDate","lastBunkerDate","lastBunkerQuantity","chiefEngineerName","bunkerROB","isMGO","isLO","isFW","componentDidMount","UNSAFE_componentWillReceiveProps","nextProps","field","transcript","handleDataChange","datafield","startListening","stopListening","val","dataFieldAffected","render","bunkerType","marginLeft","marginRight","fontWeight","width","height","className","ref","paddingBottom","options","autoStart","continuous"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Container, Row, Col, Button, Form} from 'react-bootstrap'\r\nimport PDFExporter from '../../../Helpers/PDFExporter/PDFExporter.js'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SpeechRecognition from \"react-speech-recognition\";\r\nimport SignatureCanvas from 'react-signature-canvas'\r\n\r\nimport '../style.css'\r\nclass DailyBunkerRecord extends React.Component { \r\n    exporter = new PDFExporter()\r\n    sigCanvas = undefined\r\n    constructor(props, context) {\r\n        super(props, context)\r\n        var initDate = new Date()\r\n        this.state={ \r\n            vessel : \"ASIAN HERCULES II\",\r\n            reportDate : initDate,\r\n            lastBunkerDate: initDate,\r\n            lastBunkerQuantity : 0,\r\n            chiefEngineerName : \"Ng Shi Kai\",\r\n            bunkerROB : \"AND1238SD1\",\r\n            isMGO : true,\r\n            isLO : false,\r\n            isFW : false,\r\n            records : [\r\n            ],\r\n            vesselNames : []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.getVessels()\r\n    }\r\n    // MARK : Enable Speech to Text Entry of Input\r\n    recordIdHandling = undefined\r\n    fieldHandling = undefined\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        let id = this.recordIdHandling;\r\n        let field = this.fieldHandling;\r\n        if (nextProps.transcript === \"\" || nextProps.transcript === this.props.transcript) {\r\n            return\r\n        }\r\n        if (id === undefined) {\r\n            this.handleDataChange(undefined, field, nextProps.transcript)\r\n        } else {\r\n            this.handleRecordChange(undefined, field, id, nextProps.transcript)\r\n        }\r\n    }\r\n    handleRecordFocus(event) {\r\n        this.fieldHandling = event.target.dataset.datafield\r\n        this.recordIdHandling = event.target.dataset.id\r\n        this.props.startListening();\r\n    }\r\n    handleRecordBlur(event) {\r\n        this.props.stopListening();\r\n    }\r\n    decoratorHandleDataChange(event){\r\n        let field = event.target.dataset.datafield\r\n        let id = event.target.dataset.id\r\n        let val = event.target.value\r\n        if (id === undefined) {\r\n            this.handleDataChange(undefined, field, val)\r\n        } else {\r\n            this.handleRecordChange(undefined, field, id, val)\r\n        }\r\n    }\r\n\r\n    handleDataChange(event, dataFieldAffected = null, val = null) {\r\n        if (event !== undefined) {\r\n            dataFieldAffected = event.target.dataset.datafield\r\n            val = event.target.value\r\n        }\r\n        let oldState = this.state;\r\n        switch (dataFieldAffected) {    \r\n            case \"vessel\" :\r\n                oldState.vessel = val\r\n                break\r\n            case \"reportDate\" :\r\n                oldState.reportDate = val\r\n                break\r\n            case \"lastBunkerDate\" :\r\n                oldState.lastBunkerDate = val\r\n                break\r\n            case \"lastBunkerQuantity\" :\r\n                oldState.lastBunkerQuantity = val\r\n                break\r\n            case \"chiefEngineerName\" :\r\n                oldState.chiefEngineerName = val\r\n                break\r\n            case \"bunkerROB\" :\r\n                oldState.bunkerROB = val\r\n                break\r\n            case \"bunkerType\" :\r\n                switch (val) {\r\n                    case \"0\" :\r\n                        oldState.isMGO = true\r\n                        oldState.isLO = false\r\n                        oldState.isFW = false\r\n                        break\r\n                    case \"1\" :\r\n                        oldState.isMGO = false\r\n                        oldState.isLO = true\r\n                        oldState.isFW = false\r\n                        break\r\n                    case \"2\" :\r\n                        oldState.isMGO = false\r\n                        oldState.isLO = false\r\n                        oldState.isFW = true\r\n                        break\r\n                    default :\r\n                        break\r\n                }\r\n                break\r\n            default :\r\n                break\r\n        }\r\n        this.setState(oldState)\r\n    }\r\n\r\n    handleRecordChange(event, dataFieldAffected = null, id = null, val =  null) {\r\n        if (event !== undefined) {\r\n            dataFieldAffected = event.target.dataset.datafield\r\n            id = event.target.dataset.id\r\n            val = event.target.value\r\n        }\r\n        let oldState = this.state;\r\n        switch (dataFieldAffected) {    \r\n            case \"date\" :\r\n                oldState.records[id].date = new Date(val)\r\n                break\r\n            case \"consumed\" : \r\n                oldState.records[id].consumed = val\r\n                break\r\n            case \"ROB\" : \r\n                oldState.records[id].ROB = val\r\n                break\r\n            default :\r\n                break\r\n        }\r\n        this.setState(oldState)\r\n    }\r\n\r\n    addRecord = () => {\r\n        let oldState = this.state\r\n        var initDate = new Date()\r\n        oldState.records.push({\r\n                date : initDate,\r\n                consumed : 0,\r\n                ROB : ''\r\n            })\r\n        this.setState(oldState) \r\n    }\r\n    removeRecord = (event) => {\r\n        let id = event.target.dataset.id;\r\n        let oldState = this.state\r\n        oldState.records.splice(id,1)\r\n        this.setState(oldState) \r\n    }\r\n\r\n    JSDateToHTMLDateString = (JSDate) => {\r\n        if (JSDate === undefined || !JSDate.getFullYear) {\r\n            return \"\"\r\n        }\r\n        var datestring = JSDate.getFullYear()+'-'+ (\"0\"+(JSDate.getMonth()+1)).slice(-2) +'-'+ (\"0\" + JSDate.getDate()).slice(-2)\r\n        return datestring\r\n    }\r\n\r\n    addDailyBunker = () => {\r\n        if (this.sigCanvas === undefined || this.sigCanvas.isEmpty()) {\r\n            alert(\"Please sign off\")\r\n        }\r\n        console.log(this.sigCanvas.getTrimmedCanvas().toDataURL('image/png'))\r\n        this.exporter.CreateDailyBunkerPDF(this.state, (success) => {\r\n            if (success) {\r\n                this.backToDailyBunkerDash()\r\n            }\r\n        })\r\n    }\r\n    backToDailyBunkerDash = () => {\r\n        this.props.history.push('/dailybunker/report')\r\n    }\r\n\r\n    getVessels = () => {\r\n        this.exporter.get(\"/vessels\", {} , (vessels, error) => {\r\n            if (error == null) {\r\n                let oldState = this.state\r\n                oldState.vesselNames = vessels.value\r\n                this.setState(oldState) \r\n            }\r\n        })\r\n    }\r\n    renderVessels = () => {\r\n        var vesselNames = []\r\n        for (var i=0; i < this.state.vesselNames.length; i++) {\r\n            var name = this.state.vesselNames[i].name\r\n            vesselNames.push(\r\n                <option key={i} value={name}>{name}</option>\r\n            )\r\n        }\r\n        return vesselNames\r\n    }\r\n\r\n    renderRecords = () => {\r\n        var recordElms = []\r\n        for (var i=0; i < this.state.records.length; i++) {\r\n            var record = this.state.records[i]\r\n            console.log(record.ROB)\r\n            recordElms.push(\r\n                <Form.Row key={i} style={{marginTop : '20px', marginBottom : '20px', fontSize : '.8rem'}}>\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm extra-pad-on-xs\">\r\n                        <Form.Label>Date</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={5}>\r\n                        <Form.Control type=\"date\" min=\"1990\"\r\n                        data-id ={i}\r\n                        data-datafield =\"date\"\r\n                        className=\"recordInput\"\r\n                        onChange={this.handleRecordChange.bind(this)} value={this.JSDateToHTMLDateString(record.date)}></Form.Control>\r\n                    </Col>\r\n\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm extra-pad-on-xs\">\r\n                        <Form.Label>Consumed</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={2} className=\"verticalCenter\">\r\n                        <Form.Control type=\"number\"\r\n                            className=\"recordInput\"\r\n                            data-id ={i}\r\n                            data-datafield =\"consumed\"\r\n                            onBlur={this.handleRecordBlur.bind(this)}\r\n                            onFocus={this.handleRecordFocus.bind(this)}\r\n                            onChange={this.decoratorHandleDataChange.bind(this)}\r\n                            value={record.consumed}></Form.Control>\r\n                    </Col>\r\n\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm extra-pad-on-xs\">\r\n                        <Form.Label>ROB</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={4} className=\"verticalCenter\">\r\n                        <Form.Control type=\"text\"\r\n                            className=\"recordInput\"\r\n                            data-id ={i}    \r\n                            data-datafield =\"ROB\"\r\n                            onBlur={this.handleRecordBlur.bind(this)}\r\n                            onFocus={this.handleRecordFocus.bind(this)}\r\n                            onChange={this.decoratorHandleDataChange.bind(this)}\r\n                            value={record.ROB}>\r\n                        </Form.Control>\r\n                    </Col>\r\n\r\n                    <Col xs={{span : 1, offset : 11}} sm={{span : 1, offset : 0}} \r\n                    style={{textAlign : 'center', marginTop : 'auto', marginBottom : 'auto'}}\r\n                    className=\"exta-top-margin-on-small\">\r\n                        <Button data-id ={i} variant='danger' \r\n                        style={{padding : '0 .4rem'}} \r\n                        onClick={this.removeRecord}>x</Button>\r\n                    </Col>\r\n                </Form.Row>\r\n            )\r\n        }\r\n        return recordElms\r\n    }\r\n    render() { \r\n        var bunkerType = 0\r\n        if (this.state.isMGO) {\r\n            bunkerType = 0\r\n        } else if (this.state.isLO) {\r\n            bunkerType = 1\r\n        } else if (this.state.isFW) {\r\n            bunkerType = 2\r\n        }\r\n        return (\r\n        <Container>\r\n            <Row>\r\n                <Col style={{textAlign : 'center'}} >\r\n                    <h1 className=\"formHeader1\">Daily Bunker, Lubricants & Fresh Water Status Records</h1>\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"formContents\">\r\n                 <Col xs={12} sm={{span : 10, offset : 1}}>\r\n                     <Form>\r\n                        <Form.Group controlId=\"formVessel\" >\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Vessel : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control as=\"select\"\r\n                                defaultValue={this.state.vessel}\r\n                                data-datafield =\"vessel\"\r\n                                onChange={this.handleDataChange.bind(this)} >\r\n                                    {this.renderVessels()}\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n                        \r\n                        <Form.Group controlId=\"formCEName\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Chief Engineer Name : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"text\"\r\n                                value={this.state.chiefEngineerName}\r\n                                data-datafield =\"chiefEngineerName\"\r\n                                onBlur={this.handleRecordBlur.bind(this)}\r\n                                onFocus={this.handleRecordFocus.bind(this)}\r\n                                onChange={this.decoratorHandleDataChange.bind(this)}>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formReportedDate\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Report Date : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"date\" min=\"1990\"\r\n                                data-datafield =\"reportDate\"\r\n                                onChange={this.handleDataChange.bind(this)}  \r\n                                defaultValue={this.JSDateToHTMLDateString(this.state.reportDate)}>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formLastBunkerDate\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Last Bunker Date : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"date\" min=\"1990\"\r\n                                data-datafield =\"lastBunkerDate\"\r\n                                onChange={this.handleDataChange.bind(this)} \r\n                                defaultValue={this.JSDateToHTMLDateString(this.state.lastBunkerDate)}></Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formLastBunkerQty\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Last Bunker Quantity : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"number\"\r\n                                data-datafield =\"lastBunkerQuantity\"\r\n                                onBlur={this.handleRecordBlur.bind(this)}\r\n                                onFocus={this.handleRecordFocus.bind(this)}\r\n                                onChange={this.decoratorHandleDataChange.bind(this)} \r\n                                value={this.state.lastBunkerQuantity}></Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBunkerRob\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Bunker ROB : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"text\"\r\n                                data-datafield =\"bunkerROB\"\r\n                                onBlur={this.handleRecordBlur.bind(this)}\r\n                                onFocus={this.handleRecordFocus.bind(this)}\r\n                                onChange={this.decoratorHandleDataChange.bind(this)} \r\n                                value={this.state.bunkerROB}></Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBunkerType\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Bunker Type : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control as=\"select\"\r\n                                defaultValue={bunkerType}\r\n                                data-datafield =\"bunkerType\"\r\n                                onChange={this.handleDataChange.bind(this)} >\r\n                                    <option value={0}>MGO</option>\r\n                                    <option value={1}>Lube Oil</option>\r\n                                    <option value={2}>Fresh Water</option>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n                    </Form>\r\n                 </Col>\r\n            </Row>\r\n            <Row style={{marginLeft:'-15px', marginRight : '-15px'}}>\r\n                <Col>\r\n                    <Form.Group controlId=\"formRecords\">\r\n                        <Form.Row style={{marginTop : '40px', marginBottom : '10px'}}>\r\n                            <Col style={{textAlign : 'center'}}>\r\n                                <h2>Records </h2>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        <Form.Row style={{textAlign : \"center\", fontSize : '.8rem', fontWeight : 600}}>\r\n                            <Col xs={5} className=\"hide-on-xs\">Date</Col>\r\n                            <Col xs={2} className=\"hide-on-xs\">Consumed</Col>\r\n                            <Col xs={4} className=\"hide-on-xs\">ROB</Col>\r\n                            <Col xs={{span : 1, offset : 11}} sm={{span : 1, offset: 0}}> <Button variant='info' onClick={this.addRecord} style={{padding : '0 .4rem'}}>+</Button></Col>\r\n                        </Form.Row>\r\n                        {this.renderRecords()}\r\n                    </Form.Group>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col xs={12} sm={{span : 11}} style={{textAlign : \"right\", marginTop : '30px'}}>\r\n                <SignatureCanvas \r\n                    canvasProps={{width: 300, height: 200, className: 'sigCanvas'}} \r\n                    ref={(ref) => { this.sigCanvas = ref }} />,\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col xs={12} sm={{span : 11}} style={{textAlign : \"right\", marginTop : '30px'}}>\r\n                    <Button variant=\"secondary\" onClick={this.backToDailyBunkerDash} style={{marginRight : '10px'}}>Back</Button>\r\n                    <Button variant=\"primary\" onClick={this.addDailyBunker}>Save</Button>\r\n                </Col>\r\n            </Row>\r\n            <Row style={{paddingBottom : '50px'}}>\r\n                <Col>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )}\r\n}\r\n\r\nconst options = {\r\n    autoStart: false,\r\n    continuous : false\r\n}\r\nexport default SpeechRecognition (options) (withRouter(DailyBunkerRecord));"]},"metadata":{},"sourceType":"module"}