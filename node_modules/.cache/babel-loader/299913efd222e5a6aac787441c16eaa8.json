{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shikai.ng\\\\Desktop\\\\ah2\\\\src\\\\Components\\\\PDFExportForm\\\\WeeklyDefects\\\\WeeklyDefect.js\";\nimport React from 'react';\nimport { Container, Row, Col, Button, Form } from 'react-bootstrap';\nimport PDFExporter from '../../../Helpers/PDFExporter/PDFExporter.js';\nimport { withRouter } from \"react-router-dom\";\nimport './WeeklyDefect.css';\nimport './../MaintenanceReport/MaintenanceReport.css';\n\nclass WeeklyDefect extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.exporter = new PDFExporter();\n\n    this.addRecord = () => {\n      let oldState = this.state;\n      oldState.records.push({\n        completionDate: new Date(),\n        description: '',\n        prno: '',\n        wrno: '',\n        remarks: ''\n      });\n      this.setState(oldState);\n    };\n\n    this.removeRecord = event => {\n      let id = event.target.dataset.id;\n      let oldState = this.state;\n      oldState.records.splice(id, 1);\n      this.setState(oldState);\n    };\n\n    this.JSDateToHTMLDateString = JSDate => {\n      if (JSDate == undefined || !JSDate.getFullYear) {\n        return \"\";\n      }\n\n      var datestring = JSDate.getFullYear() + '-' + (\"0\" + (JSDate.getMonth() + 1)).slice(-2) + '-' + (\"0\" + JSDate.getDate()).slice(-2);\n      return datestring;\n    };\n\n    this.addWeeklyDefect = () => {\n      this.exporter.CreateWeeklyDefectPDF(this.state, success => {\n        if (success) {\n          this.backToWeeklyDefecttDash();\n        }\n      });\n    };\n\n    this.backToWeeklyDefecttDash = () => {\n      this.props.history.push('/weeklydefect/report');\n    };\n\n    this.getDepartments = () => {\n      this.exporter.get(\"/departments\", {}, (depts, error) => {\n        if (error == null) {\n          let oldState = this.state;\n          oldState.deptNames = depts.value;\n          this.setState(oldState);\n        }\n      });\n    };\n\n    this.renderDepartments = () => {\n      var departments = [];\n\n      for (var i = 0; i < this.state.deptNames.length; i++) {\n        var name = this.state.deptNames[i].name;\n        departments.push(React.createElement(\"option\", {\n          key: i,\n          value: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, name));\n      }\n\n      return departments;\n    };\n\n    this.getVessels = () => {\n      this.exporter.get(\"/vessels\", {}, (vessels, error) => {\n        if (error == null) {\n          let oldState = this.state;\n          oldState.vesselNames = vessels.value;\n          this.setState(oldState);\n        }\n      });\n    };\n\n    this.renderVessels = () => {\n      var vesselNames = [];\n\n      for (var i = 0; i < this.state.vesselNames.length; i++) {\n        var name = this.state.vesselNames[i].name;\n        vesselNames.push(React.createElement(\"option\", {\n          key: i,\n          value: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, name));\n      }\n\n      return vesselNames;\n    };\n\n    this.renderRecords = () => {\n      var recordElms = [];\n\n      for (var i = 0; i < this.state.records.length; i++) {\n        var record = this.state.records[i];\n        recordElms.push(React.createElement(Form.Row, {\n          key: i,\n          style: {\n            marginTop: '20px',\n            marginBottom: '20px',\n            fontSize: '.8rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm extra-pad-on-xs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \"Defect Description\")), React.createElement(Col, {\n          xs: 8,\n          sm: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          as: \"textarea\",\n          rows: \"3\",\n          \"data-id\": i,\n          \"data-datafield\": \"description\",\n          className: \"recordInput\",\n          onChange: this.handleRecordChange.bind(this),\n          value: record.description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"Expected Completion Date\")), React.createElement(Col, {\n          xs: 8,\n          sm: 2,\n          className: \"verticalCenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"date\",\n          min: \"1990\",\n          className: \"recordInput\",\n          \"data-id\": i,\n          \"data-datafield\": \"completionDate\",\n          onChange: this.handleRecordChange.bind(this),\n          value: this.JSDateToHTMLDateString(record.completionDate),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, \"Purchased Requisition Number\")), React.createElement(Col, {\n          xs: 8,\n          sm: 1,\n          className: \"verticalCenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"number\",\n          className: \"recordInput\",\n          \"data-id\": i,\n          \"data-datafield\": \"prno\",\n          onChange: this.handleRecordChange.bind(this),\n          value: record.prno,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, \"Work Requisition Number\")), React.createElement(Col, {\n          xs: 8,\n          sm: 1,\n          className: \"verticalCenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"number\",\n          className: \"recordInput\",\n          \"data-id\": i,\n          \"data-datafield\": \"wrno\",\n          onChange: this.handleRecordChange.bind(this),\n          value: record.wrno,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: 4,\n          sm: 0,\n          className: \"hide-on-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(Form.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"Remarks\")), React.createElement(Col, {\n          xs: 8,\n          sm: 3,\n          className: \"verticalCenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"textarea\",\n          className: \"recordInput\",\n          \"data-id\": i,\n          \"data-datafield\": \"remarks\",\n          onChange: this.handleRecordChange.bind(this),\n          value: record.remarks,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        })), React.createElement(Col, {\n          xs: {\n            span: 1,\n            offset: 11\n          },\n          sm: {\n            span: 1,\n            offset: 0\n          },\n          style: {\n            textAlign: 'center',\n            marginTop: 'auto',\n            marginBottom: 'auto'\n          },\n          className: \"exta-top-margin-on-small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(Button, {\n          \"data-id\": i,\n          variant: \"danger\",\n          style: {\n            padding: '0 .4rem'\n          },\n          onClick: this.removeRecord,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"x\"))));\n      }\n\n      return recordElms;\n    };\n\n    this.state = {\n      vessel: \"ASIAN HERCULES II\",\n      dept: \"KOMDIGI\",\n      reportedDate: \"\",\n      master: \"Ng Shi Kai\",\n      records: [{\n        date: new Date(),\n        description: 'Completed created draft of report',\n        remarks: 'Good Job'\n      }],\n      vesselNames: [],\n      deptNames: []\n    };\n  }\n\n  componentDidMount() {\n    this.getVessels();\n    this.getDepartments();\n  }\n\n  handleVesselChange(event) {\n    let val = event.target.value;\n    let oldState = this.state;\n    oldState.vessel = val;\n    this.setState(oldState);\n  }\n\n  handleDeptChange(event) {\n    let val = event.target.value;\n    let oldState = this.state;\n    oldState.dept = val;\n    this.setState(oldState);\n  }\n\n  handleReportedDateChange(event) {\n    let val = event.target.value;\n    let oldState = this.state;\n    oldState.reportedDate = val;\n    this.setState(oldState);\n  }\n\n  handleMasterChange(event) {\n    let val = event.target.value;\n    let oldState = this.state;\n    oldState.master = val;\n    this.setState(oldState);\n  }\n\n  handleRecordChange(event) {\n    let dataFieldAffected = event.target.dataset.datafield;\n    let id = event.target.dataset.id;\n    let oldState = this.state;\n    let val = event.target.value;\n\n    switch (dataFieldAffected) {\n      case \"description\":\n        oldState.records[id].description = val;\n\n      case \"completionDate\":\n        oldState.records[id].completionDate = new Date(val);\n\n      case \"prno\":\n        oldState.records[id].prno = val;\n\n      case \"wrno\":\n        oldState.records[id].wrno = val;\n\n      case \"remarks\":\n        oldState.records[id].remarks = val;\n\n      default:\n        break;\n    }\n\n    this.setState(oldState);\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Col, {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"formHeader1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Weekly Defect Records\"))), React.createElement(Row, {\n      className: \"formContents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 12,\n      sm: {\n        span: 10,\n        offset: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formVessel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Vessel : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: this.state.vessel,\n      onChange: this.handleVesselChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, this.renderVessels())))), React.createElement(Form.Group, {\n      controlId: \"formDept\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Dept : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: this.state.dept,\n      onChange: this.handleDeptChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, this.renderDepartments())))), React.createElement(Form.Group, {\n      controlId: \"formReportedDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Reported Date : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"date\",\n      min: \"1990\",\n      onChange: this.handleReportedDateChange.bind(this),\n      value: this.JSDateToHTMLDateString(new Date()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formMaster\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      md: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Year : \")), React.createElement(Col, {\n      xs: 8,\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: this.handleMasterChange.bind(this),\n      value: this.state.master,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }))))))), React.createElement(Row, {\n      style: {\n        marginLeft: '-15px',\n        marginRight: '-15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formRecords\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '40px',\n        marginBottom: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(Col, {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"Records \"))), React.createElement(Form.Row, {\n      style: {\n        textAlign: \"center\",\n        fontSize: '.8rem',\n        fontWeight: 600\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 4,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Defect Description\"), React.createElement(Col, {\n      xs: 2,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"Expected\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }), \"Completion Date\"), React.createElement(Col, {\n      xs: 1,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Purchased \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), \"Requisition \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), \"Number\"), React.createElement(Col, {\n      xs: 1,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Work \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }), \"Requisition \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }), \"Number\"), React.createElement(Col, {\n      xs: 3,\n      className: \"hide-on-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Remarks/ Status\"), React.createElement(Col, {\n      xs: {\n        span: 1,\n        offset: 11\n      },\n      sm: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \" \", React.createElement(Button, {\n      variant: \"info\",\n      onClick: this.addRecord,\n      style: {\n        padding: '0 .4rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"+\"))), this.renderRecords()))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 12,\n      sm: {\n        span: 11\n      },\n      style: {\n        textAlign: \"right\",\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.backToMaintenanceReportDash,\n      style: {\n        marginRight: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"Back\"), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.addMaintenanceReport,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \"Save\"))), React.createElement(Row, {\n      style: {\n        paddingBottom: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withRouter(WeeklyDefect);","map":{"version":3,"sources":["C:/Users/shikai.ng/Desktop/ah2/src/Components/PDFExportForm/WeeklyDefects/WeeklyDefect.js"],"names":["React","Container","Row","Col","Button","Form","PDFExporter","withRouter","WeeklyDefect","Component","constructor","props","context","exporter","addRecord","oldState","state","records","push","completionDate","Date","description","prno","wrno","remarks","setState","removeRecord","event","id","target","dataset","splice","JSDateToHTMLDateString","JSDate","undefined","getFullYear","datestring","getMonth","slice","getDate","addWeeklyDefect","CreateWeeklyDefectPDF","success","backToWeeklyDefecttDash","history","getDepartments","get","depts","error","deptNames","value","renderDepartments","departments","i","length","name","getVessels","vessels","vesselNames","renderVessels","renderRecords","recordElms","record","marginTop","marginBottom","fontSize","handleRecordChange","bind","span","offset","textAlign","padding","vessel","dept","reportedDate","master","date","componentDidMount","handleVesselChange","val","handleDeptChange","handleReportedDateChange","handleMasterChange","dataFieldAffected","datafield","render","marginLeft","marginRight","fontWeight","backToMaintenanceReportDash","addMaintenanceReport","paddingBottom"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Container, Row, Col, Button, Form} from 'react-bootstrap'\r\nimport PDFExporter from '../../../Helpers/PDFExporter/PDFExporter.js'\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport './WeeklyDefect.css'\r\nimport './../MaintenanceReport/MaintenanceReport.css'\r\nclass WeeklyDefect extends React.Component { \r\n    exporter = new PDFExporter()\r\n    constructor(props, context) {\r\n        super(props, context)\r\n        this.state={ \r\n            vessel : \"ASIAN HERCULES II\",\r\n            dept : \"KOMDIGI\",\r\n            reportedDate : \"\",\r\n            master : \"Ng Shi Kai\",\r\n            records : [\r\n                {\r\n                    date : new Date(),\r\n                    description : 'Completed created draft of report',\r\n                    remarks : 'Good Job'\r\n                }\r\n            ],\r\n            vesselNames : [],\r\n            deptNames : []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.getVessels()\r\n        this.getDepartments()\r\n    }\r\n    handleVesselChange(event) {\r\n        let val = event.target.value;\r\n        let oldState = this.state\r\n        oldState.vessel = val\r\n        this.setState(oldState)\r\n    }\r\n    handleDeptChange(event) {\r\n        let val = event.target.value;\r\n        let oldState = this.state\r\n        oldState.dept = val\r\n        this.setState(oldState)\r\n    }\r\n    handleReportedDateChange(event) {\r\n        let val = event.target.value;\r\n        let oldState = this.state\r\n        oldState.reportedDate = val\r\n        this.setState(oldState)\r\n    }\r\n    handleMasterChange(event) {\r\n        let val = event.target.value;\r\n        let oldState = this.state\r\n        oldState.master = val\r\n        this.setState(oldState)\r\n    }\r\n\r\n    handleRecordChange(event) {\r\n        let dataFieldAffected = event.target.dataset.datafield\r\n        let id = event.target.dataset.id;\r\n        let oldState = this.state;\r\n        let val = event.target.value;\r\n        switch (dataFieldAffected) {\r\n            case \"description\" :\r\n                oldState.records[id].description = val\r\n            case \"completionDate\" : \r\n                oldState.records[id].completionDate = new Date(val)\r\n            case \"prno\" : \r\n                oldState.records[id].prno = val\r\n            case \"wrno\" : \r\n                oldState.records[id].wrno = val\r\n            case \"remarks\" :\r\n                oldState.records[id].remarks = val\r\n            default :\r\n                break\r\n        }\r\n        this.setState(oldState)\r\n    }\r\n\r\n    addRecord = () => {\r\n        let oldState = this.state\r\n        oldState.records.push({\r\n            completionDate : new Date(),\r\n            description : '',\r\n            prno : '',\r\n            wrno : '',\r\n            remarks : ''\r\n        })\r\n        this.setState(oldState) \r\n    }\r\n    removeRecord = (event) => {\r\n        let id = event.target.dataset.id;\r\n        let oldState = this.state\r\n        oldState.records.splice(id,1)\r\n        this.setState(oldState) \r\n    }\r\n\r\n    JSDateToHTMLDateString = (JSDate) => {\r\n        if (JSDate == undefined || !JSDate.getFullYear) {\r\n            return \"\"\r\n        }\r\n        var datestring = JSDate.getFullYear()+'-'+ (\"0\"+(JSDate.getMonth()+1)).slice(-2) +'-'+ (\"0\" + JSDate.getDate()).slice(-2)\r\n        return datestring\r\n    }\r\n    addWeeklyDefect = () => {\r\n        this.exporter.CreateWeeklyDefectPDF(this.state, (success) => {\r\n            if (success) {\r\n                this.backToWeeklyDefecttDash()\r\n            }\r\n        })\r\n    }\r\n    backToWeeklyDefecttDash = () => {\r\n        this.props.history.push('/weeklydefect/report')\r\n    }\r\n\r\n    getDepartments = () => {\r\n        this.exporter.get(\"/departments\", {} , (depts, error) => {\r\n            if (error == null) {\r\n                let oldState = this.state\r\n                oldState.deptNames = depts.value\r\n                this.setState(oldState) \r\n            }\r\n        })\r\n    }\r\n    renderDepartments = () => {\r\n        var departments = []\r\n        for (var i=0; i < this.state.deptNames.length; i++) {\r\n            var name = this.state.deptNames[i].name\r\n            departments.push(\r\n                <option key={i} value={name}>{name}</option>\r\n            )\r\n        }\r\n        return departments\r\n    }\r\n    getVessels = () => {\r\n        this.exporter.get(\"/vessels\", {} , (vessels, error) => {\r\n            if (error == null) {\r\n                let oldState = this.state\r\n                oldState.vesselNames = vessels.value\r\n                this.setState(oldState) \r\n            }\r\n        })\r\n    }\r\n    renderVessels = () => {\r\n        var vesselNames = []\r\n        for (var i=0; i < this.state.vesselNames.length; i++) {\r\n            var name = this.state.vesselNames[i].name\r\n            vesselNames.push(\r\n                <option key={i} value={name}>{name}</option>\r\n            )\r\n        }\r\n        return vesselNames\r\n    }\r\n\r\n    renderRecords = () => {\r\n        var recordElms = []\r\n        for (var i=0; i < this.state.records.length; i++) {\r\n            var record = this.state.records[i]\r\n            recordElms.push(\r\n                <Form.Row key={i} style={{marginTop : '20px', marginBottom : '20px', fontSize : '.8rem'}}>\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm extra-pad-on-xs\">\r\n                        <Form.Label>Defect Description</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={4}>\r\n                        <Form.Control as=\"textarea\"\r\n                        rows=\"3\"\r\n                        data-id ={i}\r\n                        data-datafield =\"description\"\r\n                        className=\"recordInput\"\r\n                        onChange={this.handleRecordChange.bind(this)} value={record.description}></Form.Control>\r\n                    </Col>\r\n\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm\">\r\n                        <Form.Label>Expected Completion Date</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={2} className=\"verticalCenter\">\r\n                        <Form.Control type=\"date\" min=\"1990\"\r\n                        className=\"recordInput\"\r\n                        data-id ={i}\r\n                        data-datafield =\"completionDate\"\r\n                        onChange={this.handleRecordChange.bind(this)} value={this.JSDateToHTMLDateString(record.completionDate)}></Form.Control>\r\n                    </Col>\r\n\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm\">\r\n                        <Form.Label>Purchased Requisition Number</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={1} className=\"verticalCenter\">\r\n                        <Form.Control type=\"number\"\r\n                        className=\"recordInput\"\r\n                        data-id ={i}\r\n                        data-datafield =\"prno\"\r\n                        onChange={this.handleRecordChange.bind(this)} value={record.prno}></Form.Control>\r\n                    </Col>\r\n\r\n                    <Col xs={4} sm={0} className=\"hide-on-sm\">\r\n                        <Form.Label>Work Requisition Number</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={1} className=\"verticalCenter\">\r\n                        <Form.Control type=\"number\"\r\n                        className=\"recordInput\"\r\n                        data-id ={i}\r\n                        data-datafield =\"wrno\"\r\n                        onChange={this.handleRecordChange.bind(this)} value={record.wrno}></Form.Control>\r\n                    </Col>\r\n                    \r\n                    <Col xs={4} sm={0} className=\"hide-on-sm\">\r\n                        <Form.Label>Remarks</Form.Label>\r\n                    </Col>\r\n                    <Col xs={8} sm={3} className=\"verticalCenter\"> \r\n                        <Form.Control type=\"textarea\"\r\n                            className=\"recordInput\"\r\n                            data-id ={i}\r\n                            data-datafield =\"remarks\"\r\n                            onChange={this.handleRecordChange.bind(this)} value={record.remarks} />\r\n                    </Col>\r\n                    <Col xs={{span : 1, offset : 11}} sm={{span : 1, offset : 0}} \r\n                    style={{textAlign : 'center', marginTop : 'auto', marginBottom : 'auto'}}\r\n                    className=\"exta-top-margin-on-small\">\r\n                        <Button data-id ={i} variant='danger' \r\n                        style={{padding : '0 .4rem'}} \r\n                        onClick={this.removeRecord}>x</Button>\r\n                    </Col>\r\n                </Form.Row>\r\n            )\r\n        }\r\n        return recordElms\r\n    }\r\n    render() { \r\n        return (\r\n        <Container>\r\n            <Row>\r\n                <Col style={{textAlign : 'center'}} >\r\n                    <h1 className=\"formHeader1\">Weekly Defect Records</h1>\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"formContents\">\r\n                 <Col xs={12} sm={{span : 10, offset : 1}}>\r\n                     <Form>\r\n                        <Form.Group controlId=\"formVessel\" >\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Vessel : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control as=\"select\"\r\n                                defaultValue={this.state.vessel}\r\n                                onChange={this.handleVesselChange.bind(this)} >\r\n                                    {this.renderVessels()}\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formDept\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Dept : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control as=\"select\"\r\n                                defaultValue={this.state.dept}\r\n                                onChange={this.handleDeptChange.bind(this)}>\r\n                                    {this.renderDepartments()}\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formReportedDate\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Reported Date : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"date\" min=\"1990\"\r\n                                onChange={this.handleReportedDateChange.bind(this)}  \r\n                                value={this.JSDateToHTMLDateString(new Date())}>\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formMaster\">\r\n                        <Form.Row>\r\n                            <Col xs={4} md={2}>\r\n                                <Form.Label>Year : </Form.Label>\r\n                            </Col>\r\n                            <Col xs={8} md={10}>\r\n                                <Form.Control type=\"text\"\r\n                                onChange={this.handleMasterChange.bind(this)} value={this.state.master}></Form.Control>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        </Form.Group>\r\n                    </Form>\r\n                 </Col>\r\n            </Row>\r\n            <Row style={{marginLeft:'-15px', marginRight : '-15px'}}>\r\n                <Col>\r\n                    <Form.Group controlId=\"formRecords\">\r\n                        <Form.Row style={{marginTop : '40px', marginBottom : '10px'}}>\r\n                            <Col style={{textAlign : 'center'}}>\r\n                                <h2>Records </h2>\r\n                            </Col>\r\n                        </Form.Row>\r\n                        <Form.Row style={{textAlign : \"center\", fontSize : '.8rem', fontWeight : 600}}>\r\n                            <Col xs={4} className=\"hide-on-xs\">Defect Description</Col>\r\n                            <Col xs={2} className=\"hide-on-xs\">Expected<br/>Completion Date</Col>\r\n                            <Col xs={1} className=\"hide-on-xs\">Purchased <br/>Requisition <br/>Number</Col>\r\n                            <Col xs={1} className=\"hide-on-xs\">Work <br/>Requisition <br/>Number</Col>\r\n                            <Col xs={3} className=\"hide-on-xs\">Remarks/ Status</Col>\r\n                            <Col xs={{span : 1, offset : 11}} sm={1}> <Button variant='info' onClick={this.addRecord} style={{padding : '0 .4rem'}}>+</Button></Col>\r\n                        </Form.Row>\r\n                        {this.renderRecords()}\r\n                    </Form.Group>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col xs={12} sm={{span : 11}} style={{textAlign : \"right\", marginTop : '30px'}}>\r\n                    <Button variant=\"secondary\" onClick={this.backToMaintenanceReportDash} style={{marginRight : '10px'}}>Back</Button>\r\n                    <Button variant=\"primary\" onClick={this.addMaintenanceReport}>Save</Button>\r\n                </Col>\r\n            </Row>\r\n            <Row style={{paddingBottom : '50px'}}>\r\n                <Col>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )}\r\n}\r\nexport default withRouter(WeeklyDefect);"]},"metadata":{},"sourceType":"module"}