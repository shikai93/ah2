{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shikai.ng\\\\Desktop\\\\ah2\\\\src\\\\Components\\\\PDFExportForm\\\\SpeechToTextRecognizer.js\";\nimport React from 'react';\nimport SpeechRecognition from \"react-speech-recognition\";\n\nclass SpeechRecognizer extends React.Component {\n  constructor(props) {\n    super(props); // this.recordIdHandling = undefined\n    // this.fieldHandling = undefined\n  } // UNSAFE_componentWillReceiveProps(nextProps) {\n  //     let id = this.state.recordIdHandling;\n  //     let field = this.state.fieldHandling;\n  //     let val = nextProps.transcript;\n  //     console.log(field, val)\n  //     if (field === undefined || val === \"\" || val === this.props.transcript) {\n  //         return\n  //     }\n  //     if ( this.props.onSpeechRecognized instanceof Function) {\n  //         this.props.onSpeechRecognized(id, field, val)\n  //     }\n  // }\n\n\n  static getDerivedStateFromProps(props, state) {\n    let id = state.recordIdHandling;\n    let field = state.fieldHandling;\n    let curVal = state.val;\n    let val = props.transcript;\n    console.log(state);\n\n    if (field === undefined || val === \"\" || val === curVal) {\n      return state;\n    }\n\n    if (this.props.onSpeechRecognized instanceof Function) {\n      this.props.onSpeechRecognized(id, field, val);\n    }\n\n    state.val = val;\n    return state;\n  } // shouldComponentUpdate() {\n  //     return false\n  // }\n\n\n  handleRecordFocus(event) {\n    var newState = this.state;\n    newState.fieldHandling = this.props.field;\n    newState.recordIdHandling = this.props.id;\n    this.props.startListening();\n    this.setState(newState);\n  }\n\n  handleRecordBlur(event) {\n    var newState = this.state;\n    newState.fieldHandling = undefined;\n    this.props.stopListening();\n    this.setState(newState);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.cloneElement(this.props.children, {\n      onFocus: this.handleRecordFocus.bind(this),\n      onBlur: this.handleRecordBlur.bind(this)\n    }));\n  }\n\n}\n\nconst options = {\n  autoStart: false,\n  continuous: false\n};\nexport default SpeechRecognition(options)(SpeechRecognizer);","map":{"version":3,"sources":["C:/Users/shikai.ng/Desktop/ah2/src/Components/PDFExportForm/SpeechToTextRecognizer.js"],"names":["React","SpeechRecognition","SpeechRecognizer","Component","constructor","props","getDerivedStateFromProps","state","id","recordIdHandling","field","fieldHandling","curVal","val","transcript","console","log","undefined","onSpeechRecognized","Function","handleRecordFocus","event","newState","startListening","setState","handleRecordBlur","stopListening","render","cloneElement","children","onFocus","bind","onBlur","options","autoStart","continuous"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,0BAA9B;;AAEA,MAAMC,gBAAN,SAA+BF,KAAK,CAACG,SAArC,CAA+C;AAE3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN,EADe,CAEf;AACA;AACH,GAN0C,CAO3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAOC,wBAAP,CAAgCD,KAAhC,EAAuCE,KAAvC,EAA8C;AAC1C,QAAIC,EAAE,GAAGD,KAAK,CAACE,gBAAf;AACA,QAAIC,KAAK,GAAGH,KAAK,CAACI,aAAlB;AACA,QAAIC,MAAM,GAAGL,KAAK,CAACM,GAAnB;AACA,QAAIA,GAAG,GAAGR,KAAK,CAACS,UAAhB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;;AACA,QAAIG,KAAK,KAAKO,SAAV,IAAuBJ,GAAG,KAAK,EAA/B,IAAqCA,GAAG,KAAKD,MAAjD,EAAyD;AACrD,aAAOL,KAAP;AACH;;AACD,QAAK,KAAKF,KAAL,CAAWa,kBAAX,YAAyCC,QAA9C,EAAwD;AACpD,WAAKd,KAAL,CAAWa,kBAAX,CAA8BV,EAA9B,EAAkCE,KAAlC,EAAyCG,GAAzC;AACH;;AACDN,IAAAA,KAAK,CAACM,GAAN,GAAYA,GAAZ;AACA,WAAON,KAAP;AACH,GAjC0C,CAkC3C;AACA;AACA;;;AACAa,EAAAA,iBAAiB,CAACC,KAAD,EAAQ;AACrB,QAAIC,QAAQ,GAAG,KAAKf,KAApB;AACAe,IAAAA,QAAQ,CAACX,aAAT,GAAyB,KAAKN,KAAL,CAAWK,KAApC;AACAY,IAAAA,QAAQ,CAACb,gBAAT,GAA4B,KAAKJ,KAAL,CAAWG,EAAvC;AACA,SAAKH,KAAL,CAAWkB,cAAX;AACA,SAAKC,QAAL,CAAcF,QAAd;AACH;;AACDG,EAAAA,gBAAgB,CAACJ,KAAD,EAAQ;AACpB,QAAIC,QAAQ,GAAG,KAAKf,KAApB;AACAe,IAAAA,QAAQ,CAACX,aAAT,GAAyBM,SAAzB;AACA,SAAKZ,KAAL,CAAWqB,aAAX;AACA,SAAKF,QAAL,CAAcF,QAAd;AACH;;AACDK,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC3B,KAAK,CAAC4B,YAAN,CAAmB,KAAKvB,KAAL,CAAWwB,QAA9B,EAAwC;AACrCC,MAAAA,OAAO,EAAG,KAAKV,iBAAL,CAAuBW,IAAvB,CAA4B,IAA5B,CAD2B;AAErCC,MAAAA,MAAM,EAAG,KAAKP,gBAAL,CAAsBM,IAAtB,CAA2B,IAA3B;AAF4B,KAAxC,CADD,CADJ;AAOH;;AA1D0C;;AA4D/C,MAAME,OAAO,GAAG;AACZC,EAAAA,SAAS,EAAE,KADC;AAEZC,EAAAA,UAAU,EAAG;AAFD,CAAhB;AAIA,eAAelC,iBAAiB,CAAEgC,OAAF,CAAjB,CAA6B/B,gBAA7B,CAAf","sourcesContent":["import React from 'react';\r\nimport SpeechRecognition from \"react-speech-recognition\";\r\n\r\nclass SpeechRecognizer extends React.Component { \r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        // this.recordIdHandling = undefined\r\n        // this.fieldHandling = undefined\r\n    }\r\n    // UNSAFE_componentWillReceiveProps(nextProps) {\r\n    //     let id = this.state.recordIdHandling;\r\n    //     let field = this.state.fieldHandling;\r\n    //     let val = nextProps.transcript;\r\n    //     console.log(field, val)\r\n    //     if (field === undefined || val === \"\" || val === this.props.transcript) {\r\n    //         return\r\n    //     }\r\n    //     if ( this.props.onSpeechRecognized instanceof Function) {\r\n    //         this.props.onSpeechRecognized(id, field, val)\r\n    //     }\r\n    // }\r\n    static getDerivedStateFromProps(props, state) {\r\n        let id = state.recordIdHandling;\r\n        let field = state.fieldHandling;\r\n        let curVal = state.val\r\n        let val = props.transcript;\r\n        console.log(state)\r\n        if (field === undefined || val === \"\" || val === curVal) {\r\n            return state\r\n        }\r\n        if ( this.props.onSpeechRecognized instanceof Function) {\r\n            this.props.onSpeechRecognized(id, field, val)\r\n        }\r\n        state.val = val;\r\n        return state;\r\n    }\r\n    // shouldComponentUpdate() {\r\n    //     return false\r\n    // }\r\n    handleRecordFocus(event) {\r\n        var newState = this.state\r\n        newState.fieldHandling = this.props.field\r\n        newState.recordIdHandling = this.props.id\r\n        this.props.startListening()\r\n        this.setState(newState)\r\n    }\r\n    handleRecordBlur(event) {\r\n        var newState = this.state\r\n        newState.fieldHandling = undefined\r\n        this.props.stopListening()\r\n        this.setState(newState)\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n            {React.cloneElement(this.props.children, { \r\n                onFocus : this.handleRecordFocus.bind(this),\r\n                onBlur : this.handleRecordBlur.bind(this)})}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst options = {\r\n    autoStart: false,\r\n    continuous : false\r\n}\r\nexport default SpeechRecognition (options) (SpeechRecognizer);"]},"metadata":{},"sourceType":"module"}