{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shikai.ng\\\\Desktop\\\\ah2\\\\src\\\\Components\\\\PDFExportForm\\\\SpeechToTextRecognizer.js\";\nimport React from 'react';\nimport SpeechRecognition from \"react-speech-recognition\";\n\nclass SpeechRecognizer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.recordIdHandling = undefined;\n    this.fieldHandling = undefined;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let id = this.recordIdHandling;\n    let field = this.fieldHandling;\n    let val = nextProps.transcript;\n    console.log(field, val);\n\n    if (field === undefined || val === \"\" || val === this.props.transcript) {\n      return;\n    }\n\n    if (this.props.onSpeechRecognized instanceof Function) {\n      this.props.onSpeechRecognized(id, field, val);\n    }\n  }\n\n  handleRecordFocus(event) {\n    this.fieldHandling = this.props.field;\n    this.recordIdHandling = this.props.id;\n    console.log(this.props.field);\n    this.props.startListening();\n  }\n\n  handleRecordBlur(event) {\n    console.log(\"blurred\");\n    this.fieldHandling = undefined;\n    this.props.stopListening();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.cloneElement(this.props.children, {\n      onFocus: this.handleRecordFocus.bind(this),\n      onBlur: this.handleRecordBlur.bind(this)\n    }));\n  }\n\n}\n\nconst options = {\n  autoStart: false,\n  continuous: false\n};\nexport default SpeechRecognition(options)(SpeechRecognizer);","map":{"version":3,"sources":["C:/Users/shikai.ng/Desktop/ah2/src/Components/PDFExportForm/SpeechToTextRecognizer.js"],"names":["React","SpeechRecognition","SpeechRecognizer","Component","constructor","props","recordIdHandling","undefined","fieldHandling","UNSAFE_componentWillReceiveProps","nextProps","id","field","val","transcript","console","log","onSpeechRecognized","Function","handleRecordFocus","event","startListening","handleRecordBlur","stopListening","render","cloneElement","children","onFocus","bind","onBlur","options","autoStart","continuous"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,0BAA9B;;AAEA,MAAMC,gBAAN,SAA+BF,KAAK,CAACG,SAArC,CAA+C;AAE3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,gBAAL,GAAwBC,SAAxB;AACA,SAAKC,aAAL,GAAqBD,SAArB;AACH;;AACDE,EAAAA,gCAAgC,CAACC,SAAD,EAAY;AACxC,QAAIC,EAAE,GAAG,KAAKL,gBAAd;AACA,QAAIM,KAAK,GAAG,KAAKJ,aAAjB;AACA,QAAIK,GAAG,GAAGH,SAAS,CAACI,UAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAAmBC,GAAnB;;AACA,QAAID,KAAK,KAAKL,SAAV,IAAuBM,GAAG,KAAK,EAA/B,IAAqCA,GAAG,KAAK,KAAKR,KAAL,CAAWS,UAA5D,EAAwE;AACpE;AACH;;AACD,QAAK,KAAKT,KAAL,CAAWY,kBAAX,YAAyCC,QAA9C,EAAwD;AACpD,WAAKb,KAAL,CAAWY,kBAAX,CAA8BN,EAA9B,EAAkCC,KAAlC,EAAyCC,GAAzC;AACH;AACJ;;AACDM,EAAAA,iBAAiB,CAACC,KAAD,EAAQ;AACrB,SAAKZ,aAAL,GAAqB,KAAKH,KAAL,CAAWO,KAAhC;AACA,SAAKN,gBAAL,GAAwB,KAAKD,KAAL,CAAWM,EAAnC;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWO,KAAvB;AACA,SAAKP,KAAL,CAAWgB,cAAX;AACH;;AACDC,EAAAA,gBAAgB,CAACF,KAAD,EAAQ;AACpBL,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAKR,aAAL,GAAqBD,SAArB;AACA,SAAKF,KAAL,CAAWkB,aAAX;AACH;;AACDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCxB,KAAK,CAACyB,YAAN,CAAmB,KAAKpB,KAAL,CAAWqB,QAA9B,EAAwC;AACrCC,MAAAA,OAAO,EAAG,KAAKR,iBAAL,CAAuBS,IAAvB,CAA4B,IAA5B,CAD2B;AAErCC,MAAAA,MAAM,EAAG,KAAKP,gBAAL,CAAsBM,IAAtB,CAA2B,IAA3B;AAF4B,KAAxC,CADD,CADJ;AAOH;;AAtC0C;;AAwC/C,MAAME,OAAO,GAAG;AACZC,EAAAA,SAAS,EAAE,KADC;AAEZC,EAAAA,UAAU,EAAG;AAFD,CAAhB;AAIA,eAAe/B,iBAAiB,CAAE6B,OAAF,CAAjB,CAA6B5B,gBAA7B,CAAf","sourcesContent":["import React from 'react';\r\nimport SpeechRecognition from \"react-speech-recognition\";\r\n\r\nclass SpeechRecognizer extends React.Component { \r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.recordIdHandling = undefined\r\n        this.fieldHandling = undefined\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        let id = this.recordIdHandling;\r\n        let field = this.fieldHandling;\r\n        let val = nextProps.transcript;\r\n        console.log(field, val)\r\n        if (field === undefined || val === \"\" || val === this.props.transcript) {\r\n            return\r\n        }\r\n        if ( this.props.onSpeechRecognized instanceof Function) {\r\n            this.props.onSpeechRecognized(id, field, val)\r\n        }\r\n    }\r\n    handleRecordFocus(event) {\r\n        this.fieldHandling = this.props.field\r\n        this.recordIdHandling = this.props.id\r\n        console.log(this.props.field)\r\n        this.props.startListening();\r\n    }\r\n    handleRecordBlur(event) {\r\n        console.log(\"blurred\")\r\n        this.fieldHandling = undefined\r\n        this.props.stopListening();\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n            {React.cloneElement(this.props.children, { \r\n                onFocus : this.handleRecordFocus.bind(this),\r\n                onBlur : this.handleRecordBlur.bind(this)})}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst options = {\r\n    autoStart: false,\r\n    continuous : false\r\n}\r\nexport default SpeechRecognition (options) (SpeechRecognizer);"]},"metadata":{},"sourceType":"module"}